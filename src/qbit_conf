#!/bin/bash

source src/qbit_user

qbit_conf() {
  {
    echo "[AutoRun]"
    echo "enabled=false"
    echo "program="
    echo ""
    echo "[LegalNotice]"
    echo "Accepted=true"
    echo ""
    echo "[Network]"
    echo "Cookies=\"\""
    echo ""
    echo "[Preferences]"
    echo "Advanced\\RecheckOnCompletion=false"
    echo "Advanced\\trackerPort=9000"
    echo "Bittorrent\\MaxConnecsPerTorrent=500"
    echo "Bittorrent\\MaxUploads=500"
    echo "Bittorrent\\MaxUploadsPerTorrent=500"
    echo "Connection\\PortRangeMin=${portQbit}"
    echo "Connection\\ResolvePeerCountries=true"
    echo "Downloads\\SavePath=/home/$USER/qBittorrent/downloads/"
    echo "Downloads\\ScanDirsV2=@Variant(\0\0\0\x1c\0\0\0\0)"
    echo "Downloads\\TempPathEnabled=true"
    echo "Downloads\\TorrentExportDir=${torrentsFileLocal}"
    echo "DynDNS\\DomainName=changeme.dyndns.org"
    echo "DynDNS\\Enabled=false"
    echo "DynDNS\\Password="
    echo "DynDNS\\Service=0"
    echo "DynDNS\\Username="
    echo "General\\Locale=pt_BR"
    echo "MailNotification\\email="
    echo "MailNotification\\enabled=false"
    echo "MailNotification\\password="
    echo "MailNotification\\req_auth=true"
    echo "MailNotification\\req_ssl=false"
    echo "MailNotification\\sender=qBittorrent_notification@example.com"
    echo "MailNotification\\smtp_server=smtp.changeme.com"
    echo "MailNotification\\username="
    echo "Queueing\\QueueingEnabled=false"
    echo "WebUI\\Address=*"
    echo "WebUI\\AlternativeUIEnabled=false"
    echo "WebUI\\AuthSubnetWhitelist=${ip}/32"
    echo "WebUI\\AuthSubnetWhitelistEnabled=true"
    echo "WebUI\\BanDuration=3600"
    echo "WebUI\\CSRFProtection=true"
    echo "WebUI\\ClickjackingProtection=true"
    echo "WebUI\\CustomHTTPHeaders="
    echo "WebUI\\CustomHTTPHeadersEnabled=false"
    echo "WebUI\HTTPS\\CertificatePath="
    echo "WebUI\\HTTPS\\Enabled=false"
    echo "WebUI\\HTTPS\\KeyPath="
    echo "WebUI\\HostHeaderValidation=true"
    echo "WebUI\\LocalHostAuth=false"
    echo "WebUI\\MaxAuthenticationFailCount=5"
    echo "WebUI\\Port=${portWeb}"
    echo "WebUI\\RootFolder="
    echo "WebUI\\SecureCookie=true"
    echo "WebUI\\ServerDomains=*"
    echo "WebUI\\SessionTimeout=3600"
    echo "WebUI\\UseUPnP=true"
    echo "WebUI\\Username=admin"
    echo ""
    echo "[RSS]"
    echo "AutoDownloader\\DownloadRepacks=false"
    echo "AutoDownloader\\EnableProcessing=false"
    echo "AutoDownloader\\SmartEpisodeFilter="
    echo "Session\\EnableProcessing=true"
    echo "Session\\MaxArticlesPerFeed=50"
    echo "Session\\RefreshInterval=30"
  } > /home/$USER/qBittorrent/config/qBittorrent.conf
}